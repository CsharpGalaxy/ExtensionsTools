# ฺฉูุงุณ CityHelper

## ๐๏ธ **ููุง ฺฉู**
CityHelper ฺฉ ฺฉูุงุณ ุงุณุชุงุชฺฉ ุงุณุช ฺฉู ูุชุฏูุง ุจุฑุง ฺฉุงุฑ ุจุง ุฏุงุฏูโูุง ุดูุฑูุง ู ุงุณุชุงูโูุง ุงุฑุงู ูุฑุงูู ูโฺฉูุฏ. ุงู ฺฉูุงุณ ุฏุงุฏูโูุง ุฑุง ุงุฒ ฺฉ ูุงู JSON ุจุงุฑฺฏุฐุงุฑ ฺฉุฑุฏู ู ูุชุฏูุง ูุฎุชูู ุจุฑุง ุฌุณุชุฌู ู ุฏุฑุงูุช ุงุทูุงุนุงุช ุดูุฑ ู ุงุณุชุงู ุงุฑุงุฆู ูโุฏูุฏ.

## ๐ **ูุชุฏูุง ุฑุงูโุงูุฏุงุฒ**
| ูุชุฏ | ุชูุถุญุงุช | ูพุงุฑุงูุชุฑูุง | ููุน ุฎุฑูุฌ |
|-----|----------|-----------|------------|
| `InitializeAsync` | ุฑุงูโุงูุฏุงุฒ ู ุฐุฎุฑู ูููุช ุฏุงุฏูโูุง ุดูุฑ | ูุฏุงุฑุฏ | `Task` |
| `LoadCitiesFromJsonAsync` | ุจุงุฑฺฏุฐุงุฑ ุฏุงุฏูโูุง ุดูุฑูุง ุงุฒ ูุงู JSON | ูุฏุงุฑุฏ | `Task<List<CityModel>>` |

## ๐ **ูุชุฏูุง ุฌุณุชุฌู**
| ูุชุฏ | ุชูุถุญุงุช | ูพุงุฑุงูุชุฑูุง | ููุน ุฎุฑูุฌ |
|-----|----------|-----------|------------|
| `GetByCityIdAsync` | ุงูุชู ุดูุฑ ุจุง ุดูุงุณู | `string cityId` | `Task<CityModel?>` |
| `GetByCityNameAsync` | ุงูุชู ุดูุฑ ุจุง ูุงู | `string cityName` | `Task<CityModel?>` |
| `GetCitiesByProvinceIdAsync` | ุฏุฑุงูุช ููู ุดูุฑูุง ฺฉ ุงุณุชุงู ุจุง ุดูุงุณู | `string provinceId` | `Task<IReadOnlyList<CityModel>>` |
| `GetCitiesByProvinceNameAsync` | ุฏุฑุงูุช ููู ุดูุฑูุง ฺฉ ุงุณุชุงู ุจุง ูุงู | `string provinceName` | `Task<IReadOnlyList<CityModel>>` |

## โ **ูุชุฏูุง ุงุนุชุจุงุฑุณูุฌ**
| ูุชุฏ | ุชูุถุญุงุช | ูพุงุฑุงูุชุฑูุง | ููุน ุฎุฑูุฌ |
|-----|----------|-----------|------------|
| `ExistsByCityIdAsync` | ุจุฑุฑุณ ูุฌูุฏ ุดูุฑ ุจุง ุดูุงุณู | `string cityId` | `Task<bool>` |
| `ExistsByCityNameAsync` | ุจุฑุฑุณ ูุฌูุฏ ุดูุฑ ุจุง ูุงู | `string cityName` | `Task<bool>` |

## ๐ฆ **ุณุงุฎุชุงุฑ CityModel**
| ุฎุงุตุช | ููุน | ุชูุถุญุงุช |
|--------|-----|----------|
| `CityId` | `string` | ุดูุงุณู ฺฉุชุง ุดูุฑ |
| `CityName` | `string` | ูุงู ุดูุฑ |
| `ProvinceId` | `string` | ุดูุงุณู ุงุณุชุงู ูุฑุจูุทู |
| `ProvinceName` | `string` | ูุงู ุงุณุชุงู ูุฑุจูุทู |

## ๐ **ูุซุงูโูุง ุงุณุชูุงุฏู**

### ุฑุงูโุงูุฏุงุฒ
```csharp
// ุฑุงูโุงูุฏุงุฒ ุฏุงุฏูโูุง ุดูุฑ (ฺฉุจุงุฑ ุฏุฑ ุดุฑูุน ุจุฑูุงูู)
await CityHelper.InitializeAsync();
```

### ุฌุณุชุฌู ุดูุฑูุง
```csharp
// ุงูุชู ุดูุฑ ุจุง ุดูุงุณู
var tehran = await CityHelper.GetByCityIdAsync("021");

// ุงูุชู ุดูุฑ ุจุง ูุงู
var shiraz = await CityHelper.GetByCityNameAsync("ุดุฑุงุฒ");

// ุฏุฑุงูุช ุชูุงู ุดูุฑูุง ฺฉ ุงุณุชุงู
var tehranCities = await CityHelper.GetCitiesByProvinceNameAsync("ุชูุฑุงู");
```

### ุงุนุชุจุงุฑุณูุฌ
```csharp
// ุจุฑุฑุณ ูุฌูุฏ ุดูุฑ
bool exists = await CityHelper.ExistsByCityNameAsync("ุงุตููุงู");
```

## โ๏ธ **ูฺฉุงุช ููู**

1. ููุจุน ุฏุงุฏู:
   - ุฏุงุฏูโูุง ุงุฒ ูุญุชูุง ุฎุงู GitHub ุจุงุฑฺฏุฐุงุฑ ูโุดูุฏ
   - ุขุฏุฑุณ: `provinces_cities.json` ุฏุฑ ูุฎุฒู
   - ุฏุงุฏูโูุง JSON ูพุณ ุงุฒ ุงููู ุจุงุฑฺฏุฐุงุฑ ุฐุฎุฑู ูููุช ูโุดููุฏ

2. ููุงุญุธุงุช ฺฉุงุฑุง:
   - ุงุณุชูุงุฏู ุงุฒ ุงูฺฏู async/await ุจุฑุง ุชูุงู ุนููุงุช
   - ุฏุงุฏูโูุง ูพุณ ุงุฒ ุงููู ุจุงุฑฺฏุฐุงุฑ ุฏุฑ ุญุงูุธู ุฐุฎุฑู ูโุดููุฏ
   - ูพุงุฏูโุณุงุฒ thread-safe

3. ูุฏุฑุช ุฎุทุง:
   - ูพุฑุชุงุจ `InvalidOperationException` ุฏุฑ ุตูุฑุช ุฎุทุง ุฏุฑ ุจุงุฑฺฏุฐุงุฑ JSON
   - ุจุฑฺฏุฑุฏุงูุฏู ฺฉุงูฺฉุดู ุฎุงู ุจู ุฌุง null ุจุฑุง ูุชุฏูุง ูุณุช
   - ููุงุณู ูุงูโูุง ุจุฏูู ุญุณุงุณุช ุจู ุญุฑูู ฺฉูฺฺฉ ู ุจุฒุฑฺฏ

4. ุจูุชุฑู ุดููโูุง:
   - ูุฑุงุฎูุงู `InitializeAsync` ุฏุฑ ุดุฑูุน ุจุฑูุงูู
   - ูุฏุฑุช ูุดฺฉูุงุช ุงุชุตุงู ุจู ุดุจฺฉู
   - ุฏุฑ ูุธุฑ ฺฏุฑูุชู ุฏุงุฏูโูุง ูพุดุชุจุงู ูุญู
   - ุงุณุชูุงุฏู ุงุฒ ูุชุฏูุง ูุจุชู ุจุฑ ุดูุงุณู ุจุฑุง ุชุทุจู ุฏูู
   - ุงุณุชูุงุฏู ุงุฒ ูุชุฏูุง ูุจุชู ุจุฑ ูุงู ุจุฑุง ูุฑูุฏ ฺฉุงุฑุจุฑ

## ๐ **ูุงุจุณุชฺฏโูุง**
- System.Text.Json ุจุฑุง ูพุงุฑุณ JSON
- HttpClient ุจุฑุง ุฏุฑุงูุช ุฏุงุฏู ุงุฒ ุฑุงู ุฏูุฑ
- .NET Standard 2.0 ุง ุจุงูุงุชุฑ