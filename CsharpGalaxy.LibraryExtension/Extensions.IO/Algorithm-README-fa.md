# کلاس Algorithm

این مستندات مربوط به کلاس `Algorithm` است که پیاده‌سازی الگوریتم‌های مختلف، در حال حاضر با تمرکز بر الگوریتم Luhn برای اعتبارسنجی شماره‌های شناسایی را فراهم می‌کند.

## متدها

### Luhn

| پارامتر | نوع | توضیحات |
|---------|-----|----------|
| value | string | شماره‌ای که باید با الگوریتم Luhn اعتبارسنجی شود |
| خروجی | byte | اگر شماره معتبر باشد 0، در غیر این صورت رقم کنترلی مورد نیاز برای معتبر کردن آن را برمی‌گرداند |

## درباره الگوریتم Luhn

الگوریتم Luhn (همچنین معروف به الگوریتم "مدولوس 10" یا "مد 10") توسط دانشمند IBM، هانس پیتر لون ایجاد شد. این یک فرمول جمع کنترلی است که برای اعتبارسنجی انواع شماره‌های شناسایی استفاده می‌شود، از جمله:

- شماره‌های کارت اعتباری
- شماره‌های IMEI
- شماره‌های بیمه اجتماعی کانادا
- شماره‌های شناسایی اسرائیل
- شماره‌های شناسایی آفریقای جنوبی
- شماره‌های تأمین اجتماعی یونان (ΑΜΚΑ)

## فرآیند الگوریتم

1. شروع از سمت راست‌ترین رقم (به استثنای رقم کنترل):
   - مقدار هر رقم دوم را دو برابر کنید
   - اگر دو برابر کردن منجر به عددی > 9 شد، 9 را کم کنید

2. جمع تمام ارقام (هم دو برابر شده و هم دست نخورده)

3. اگر باقیمانده تقسیم مجموع بر 10 برابر 0 باشد، شماره معتبر است

## مثال‌های استفاده

### اعتبارسنجی یک شماره
```csharp
// مثال با شماره کارت اعتباری (بدون رقم کنترل)
string cardNumber = "7992739871";
byte checkDigit = Algorithm.Luhn(cardNumber);

if (checkDigit == 0)
{
    Console.WriteLine("شماره معتبر است");
}
else
{
    Console.WriteLine($"رقم کنترل باید {checkDigit} باشد");
}
```

### تولید رقم کنترل
```csharp
// تولید رقم کنترل برای یک شماره
string baseNumber = "79927398713";
byte checkDigit = Algorithm.Luhn(baseNumber);
string completeNumber = baseNumber + checkDigit;
```

## نکات مهم

1. **فرمت ورودی**:
   - ورودی باید یک رشته شامل فقط کاراکترهای عددی باشد
   - فضای خالی یا کاراکترهای ویژه پردازش نمی‌شوند
   - طول ورودی اعتبارسنجی نمی‌شود

2. **مقادیر برگشتی**:
   - اگر شماره معتبر باشد 0 برمی‌گرداند
   - اعداد 1-9 را برمی‌گرداند که نشان‌دهنده رقم کنترل مورد نیاز برای معتبر کردن شماره است

3. **کارایی**:
   - پیچیدگی زمانی: O(n) که n طول رشته ورودی است
   - پیچیدگی فضایی: O(1) زیرا از فضای اضافی ثابت استفاده می‌کند

## جزئیات فنی

### نکات پیاده‌سازی

- از `Convert.ToByte` برای تبدیل‌های عددی استفاده می‌کند
- ارقام را از راست به چپ پردازش می‌کند
- بین دو برابر کردن و حفظ مقادیر اصلی تناوب دارد
- مقادیر دو برابر شده > 9 را با کم کردن 9 مدیریت می‌کند
- از مدولوس 10 برای اعتبارسنجی نهایی استفاده می‌کند

### مدیریت خطا

این متد فرض می‌کند ورودی معتبر است و شامل مدیریت خطای صریح برای موارد زیر نیست:
- کاراکترهای غیر عددی
- رشته‌های خالی
- مقادیر تهی

در صورت استفاده در کد تولید، افزودن اعتبارسنجی را در نظر بگیرید.

## وابستگی‌ها

- فضای نام System (برای کلاس Convert)